{"version":3,"sources":["uni-app:///main.js","webpack:////Users/mayongjian/Desktop/hongshu_boot/uniapp_hongshu/App.vue?0519","webpack:////Users/mayongjian/Desktop/hongshu_boot/uniapp_hongshu/App.vue?2d8a","uni-app:///App.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","config","productionTip","use","EvanEmoji","App","mpType","app","$mount","goEasy","GoEasy","getInstance","host","appkey","appConfig","ImKey","modules","allowNotification","im","on","IM_EVENT","CONVERSATIONS_UPDATED","setUnreadNumber","content","unreadTotal","uni","setStorageSync","onClickNotification","message","currentUrl","routes","getCurrentPages","length","curRoute","route","curParam","options","to","newUrl","toType","IM_SCENE","PRIVATE","senderId","GROUP","groupId","navigateTo","url","prototype","onLaunch","plus","title","icon","count","sizeType","sourceType","success","onShow","console","onHide"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import App from './App'\nimport GoEasy from '@/node_modules/GOEASY-IM/js_sdk/goeasy-2.8.3.esm.min.js'\n\n\n\nimport Vue from 'vue'\nimport EvanEmoji from '@/uni_modules/evan-emoji/utils/index.js'\nimport {appConfig} from '@/config/config.js'\n\nVue.config.productionTip = false\nVue.use(EvanEmoji)\nApp.mpType = 'app'\nconst app = new Vue({\n    ...App\n})\napp.$mount()\n\n\n\nconst goEasy = GoEasy.getInstance({\n    host: 'hangzhou.goeasy.io',\t//应用所在的区域地址: 【hangzhou.goeasy.io |singapore.goeasy.io】\n    appkey: appConfig.ImKey,\t// common key,\n    modules: ['im'],\n    // true表示支持通知栏提醒，false则表示不需要通知栏提醒\n    allowNotification: true //仅有效于app,小程序和H5将会被自动忽略\n});\n\ngoEasy.im.on(GoEasy.IM_EVENT.CONVERSATIONS_UPDATED, setUnreadNumber);\nfunction setUnreadNumber (content) {\n    let unreadTotal = content.unreadTotal;\n\tuni.setStorageSync(\"unreadTotal\",unreadTotal)\n  //   if(unreadTotal > 0) {\n  //       // uni.setTabBarBadge({\n  //       //     index: 2,\n  //       //     text: unreadTotal.toString()\n  //       // });\n\t\t// uni.showTabBarRedDot({ //显示红点\n\t\t// \tindex: 2 //tabbar下标\n\t\t// })\n  //   }else{\n  //       //uni.removeTabBarBadge({index: 0});\n\t\t// uni.hideTabBarRedDot({\n\t\t// \tindex: 2\n\t\t// })\n  //   }\n  //\n\n\n\n\n\n\n\n\n\n\n}\n\ngoEasy.onClickNotification((message) => {\n    let currentUrl;\n    const routes = getCurrentPages();\n\n    if (routes && routes.length) {\n        const curRoute = routes[routes.length - 1].route;\n        const curParam = routes[routes.length - 1].options;\n        currentUrl = '/' + curRoute + `?to=${curParam.to}`;\n    }\n\n    let newUrl;\n    switch (message.toType) {\n        case GoEasy.IM_SCENE.PRIVATE:\n            newUrl = '/pages/message/privateChat/privateChat?to=' + message.senderId;\n            break;\n        case GoEasy.IM_SCENE.GROUP:\n            newUrl = '/pages/groupChat?to=' + message.groupId;\n            break;\n    }\n\n    if (currentUrl !== newUrl) {\n        uni.navigateTo({\n            url: newUrl,\n        });\n    }\n\n});\n\nVue.prototype.GoEasy = GoEasy;\nVue.prototype.goEasy = goEasy;","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\nimport {\n\t\ttokenUtil\n\t} from \"@/utils/token.js\"\n\texport default {\n\t\t\n\t\tonLaunch: function() {\n\t\t\t       \n\t\t\t\t   let token = tokenUtil.get()\n\t\t\t\t   \t\t       \n\t\t\t\t   if(token){\n\t\t\t\t\t   if (typeof plus !== 'undefined' && plus.navigator) {\n\t\t\t\t\t           plus.navigator.closeSplashscreen();\n\t\t\t\t\t         }\n\t\t\t\t\t   \n\t\t\t\t\t   if(typeof uni.getStorageSync(\"imgPublish\")=='undefined'||uni.getStorageSync(\"imgPublish\")==null){\n\t\t\t\t\t\t   uni.showToast({\n\t\t\t\t\t\t\ttitle: \"有图片在上传中\",\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t   })\n\t\t\t\t\t\t   return\n\t\t\t\t\t   }\n\t\t\t\t\t   \n\t\t\t\t\t   \n\t\t\t\t\t   uni.onTabBarMidButtonTap(()=>{\n\t\t\t\t\t   \t\t\n\t\t\t\t\t           // 这里可以根据 个人需求 做点击处理，\n\t\t\t\t\t           // 本人需进行页面跳转。\n\t\t\t\t\t\t\t  uni.chooseImage({\n\t\t\t\t\t\t\t\t  count: 9, // 最多可以选择的图片张数，默认9\n\t\t\t\t\t\t\t\t  sizeType: ['original'], //original 原图，compressed 压缩图，默认二者都有\n\t\t\t\t\t\t\t\t  sourceType: ['album'], //album 从相册选图，camera 使用相机，默认二者都有。如需直接开相机或直接选相册，请只使用一个选项\n\t\t\t\t\t\t\t\t  success: function(res) {\t  \t\t\n\t\t\t\t\t\t\t\t\t uni.setStorageSync(\"imgList\",JSON.stringify(res.tempFilePaths))\n\t\t\t\t\t\t\t\t\t  uni.navigateTo({\n\t\t\t\t\t\t\t\t\t\turl:\"/pages/push/push\"\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  }) \n\t\t\t\t\t   \t})\n\t\t\t\t   }else{\n\t\t\t\t\t   uni.reLaunch({\n\t\t\t\t\t           url: \"/pages/login/login\",\n\t\t\t\t\t           success: () => {\n\t\t\t\t\t             if (typeof plus !== 'undefined' && plus.navigator) {\n\t\t\t\t\t               plus.navigator.closeSplashscreen();\n\t\t\t\t\t             }\n\t\t\t\t\t           }\n\t\t\t\t\t         });\n\t\t\t\t\t    }\t\n\t\t},\n\t\t\n\t\tonShow: function() {\n\t\t\tconsole.log('App Show')\n\t\t},\n\t\tonHide: function() {\n\t\t\tconsole.log('App Hide')\n\t\t},\t\n\t}\n\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}