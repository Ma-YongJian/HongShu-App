(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-otherUser-otherUser"],{"3bff":function(t,e,n){"use strict";(function(t){n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("5c47"),n("aa9c"),n("bf0f");var i=a(n("da17")),o=a(n("e8d0")),s=a(n("154c")),r=n("292f"),u=n("954f"),c={components:{Note:i.default,Like:o.default,Collect:s.default},data:function(){return{current:0,currentTab:0,tabs:[{name:"作品"},{name:"点赞"},{name:"收藏"}],userInfo:{},seed:0,uid:"",T:!1,vHeight:0,screenHeight:0,top_show:!1,currentUser:null}},onLoad:function(t){"undefined"==typeof t.currentTab&&null==t.currentTab||(this.currentTab=t.currentTab),this.uid=t.uid,this.screenHeight=uni.getSystemInfoSync().screenHeight,this.currentUser=uni.getStorageSync("userInfo"),getApp().globalData.currentUser=this.currentUser,"disconnected"===this.goEasy.getConnectionStatus()&&this.connectGoEasy()},onShow:function(){this.getUserInfo(this.uid),this.isFollow(),this.seed=Math.random()},onPageScroll:function(t){var e=this;t.scrollTop>=20?(this.top_show=!0,uni.createSelectorQuery().select(".content").boundingClientRect((function(t){e.vHeight=220})).exec()):(this.top_show=!1,uni.createSelectorQuery().select(".content").boundingClientRect((function(t){e.vHeight=0})).exec())},methods:{connectGoEasy:function(){uni.showLoading(),this.goEasy.connect({id:this.currentUser.id,data:{name:this.currentUser.username,avatar:this.currentUser.avatar},onSuccess:function(){t.log("GoEasy connect successfully.")},onFailed:function(e){t.log("Failed to connect GoEasy, code:"+e.code+",error:"+e.content)},onProgress:function(e){t.log("GoEasy is connecting",e)}})},back:function(){uni.navigateBack({delta:1})},change:function(t){this.currentTab=t.index},login:function(){uni.navigateTo({url:"/pages/login/login"})},getUserInfo:function(t){var e=this,n={userId:t};(0,r.getUserInfo)(n).then((function(t){e.userInfo=t.data}))},chat:function(e){t.log(e),uni.navigateTo({url:"/pages/message/privateChat/privateChat?to="+e})},isFollow:function(){var t=this,e=uni.getStorageSync("userInfo").id,n=this.uid,a={uid:e,fid:n};(0,u.isFollow)(a).then((function(e){e.data?t.T=!0:t.T=!1}))},follow:function(t){var e=this,n=uni.getStorageSync("userInfo"),a={};a.uid=n.id,a.fid=t,(0,u.followUser)(a).then((function(t){e.T=!0}))},clearFollow:function(t){var e=this,n=uni.getStorageSync("userInfo"),a={};a.uid=n.id,a.fid=t,(0,u.clearFollow)(a).then((function(t){e.T=!1}))},getAllFriend:function(t){uni.navigateTo({url:"/pages/user/allUser/allUser?type="+t+"&uid="+this.uid})},onReachBottom:function(){this.seed=Math.random()},previewImgae:function(t){var e=this,n=[];n.push(t),uni.previewImage({current:0,urls:n,longPressActions:{itemList:["保存"],success:function(n){if(0==n.tapIndex){var a=e.downLoadImg(t);a.then((function(t){uni.showToast({title:t,icon:"none"})}))}},fail:function(t){}}})},downLoadImg:function(t){return new Promise((function(e,n){uni.downloadFile({url:t,success:function(t){200===t.statusCode&&uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){e("保存成功")},fail:function(){n("保存失败")}})}})}))}}};e.default=c}).call(this,n("ba7c")["default"])},4204:function(t,e,n){var a=n("7ae3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("d8771542",a,!0,{sourceMap:!1,shadowMode:!1})},"57b6":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={tuiNavigationBar:n("9ebd").default,tuiIcon:n("bd7a").default,tuiButton:n("e718").default,tuiTabs:n("4788").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content",style:"margin-top:"+t.vHeight+"rpx"},[t.top_show?n("tui-navigation-bar",{attrs:{backgroundColor:"#fff",isFixed:!0,isOpacity:!1}},[n("v-uni-view",{staticClass:"fixed-top"},[n("v-uni-view",{staticClass:"fixed-user"},[n("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImgae(t.userInfo.avatar)}}}),n("v-uni-view",{staticClass:"username"},[t._v(t._s(t.userInfo.username))])],1)],1)],1):t._e(),n("tui-navigation-bar",{attrs:{backgroundColor:"#fff",isFixed:!1,isOpacity:!1}},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[n("tui-icon",{attrs:{name:"arrowleft",color:"#fff",size:"30"}})],1)],1)],1),n("v-uni-view",{staticClass:"image"},[t.userInfo?n("v-uni-image",{attrs:{src:t.userInfo.userCover,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImgae(t.userInfo.cover)}}}):n("v-uni-image",{attrs:{src:"/static/images/toast/img_nodata.png",mode:"aspectFill"}})],1),n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"user"},[n("v-uni-view",{staticClass:"user-left"},[n("v-uni-image",{staticClass:"avatar",attrs:{src:t.userInfo.avatar,mode:"aspectFill"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImgae(t.userInfo.avatar)}}}),n("v-uni-view",{staticClass:"user-content"},[n("v-uni-view",{staticClass:"name"},[t._v(t._s(t.userInfo.username))]),n("v-uni-view",{staticClass:"user-id f"},[t._v("红薯号："+t._s(t.userInfo.hsId))]),n("v-uni-view",{staticClass:"ip f"},[t._v("IP属地："+t._s(t.userInfo.address))]),n("v-uni-view",{staticClass:"user-content"},[null===t.userInfo.description?n("v-uni-view",{staticClass:"descrpition-null"},[t._v("这个人什么都没有写～")]):n("v-uni-view",{staticClass:"descrpition"},[t._v(t._s(t.userInfo.description))])],1)],1)],1),n("v-uni-view",{staticClass:"user-right"},[n("v-uni-view",{staticClass:"user-message",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.chat(t.userInfo.id)}}},[n("tui-icon",{attrs:{name:"message",size:"24",color:"#797979"}})],1),t.T?n("tui-button",{attrs:{type:"gray",height:"66rpx",size:"24",width:"120rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearFollow(t.userInfo.id)}}},[t._v("已关注")]):n("tui-button",{attrs:{type:"danger",height:"66rpx",size:"24",width:"120rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.follow(t.userInfo.id)}}},[t._v("关注")])],1)],1),n("v-uni-view",{staticClass:"info"},[n("p",{staticClass:"info-item follow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getAllFriend(1)}}},[n("v-uni-view",{staticClass:"info-count"},[t._v(t._s(t.userInfo.followerCount))]),n("v-uni-view",{staticClass:"info-title"},[t._v("关注")])],1),n("p",{staticClass:"info-item fan",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getAllFriend(0)}}},[n("v-uni-view",{staticClass:"info-count"},[t._v(t._s(t.userInfo.fanCount))]),n("v-uni-view",{staticClass:"info-title"},[t._v("粉丝")])],1),n("p",{staticClass:"info-item trend"},[n("v-uni-view",{staticClass:"info-count"},[t._v(t._s(t.userInfo.trendCount))]),n("v-uni-view",{staticClass:"info-title"},[t._v("动态")])],1)]),n("v-uni-view",{},[n("tui-tabs",{attrs:{tabs:t.tabs,currentTab:t.currentTab,sliderBgColor:"red",selectedColor:"red",itemWidth:"50%"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"zhuti"},[t.userInfo?n("v-uni-view",[0==t.currentTab?n("Note",{attrs:{uid:t.uid,seed:t.seed}}):t._e(),1==t.currentTab?n("Like",{attrs:{uid:t.uid,seed:t.seed}}):t._e(),2==t.currentTab?n("Collect",{attrs:{uid:t.uid,seed:t.seed}}):t._e()],1):n("v-uni-view",{staticClass:"nologin"},[n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("请先登录")])],1)],1)],1)],1)},o=[]},"6fc3":function(t,e,n){"use strict";n.r(e);var a=n("3bff"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"7ae3":function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,".user-content[data-v-af54ba08]{margin-top:%?35?%;margin-bottom:%?40?%;margin-left:%?60?%}.name[data-v-af54ba08]{margin-top:%?10?%;margin-left:75px;font-size:%?30?%}.user-id[data-v-af54ba08]{margin-top:%?10?%;margin-left:75px;color:rgba(51,51,51,.6)}.ip[data-v-af54ba08]{margin-left:75px;color:rgba(51,51,51,.6)}.descrpition[data-v-af54ba08]{margin-top:%?20?%;font-size:%?25?%;color:#5c5c5c}.descrpition-null[data-v-af54ba08]{font-size:%?25?%;color:rgba(51,51,51,.6)}.f[data-v-af54ba08]{font-size:%?22?%}.content[data-v-af54ba08]{position:relative;width:100%;background-color:#f4f4f4}.top[data-v-af54ba08]{position:relative;height:%?60?%;z-index:9999}.top .right[data-v-af54ba08]{padding-top:5px;display:flex;justify-content:end}.top .right .item[data-v-af54ba08]{margin-right:%?15?%}.fixed-top[data-v-af54ba08]{display:flex;justify-content:center;align-items:center;margin-top:5px;-webkit-animation:fixed-top-data-v-af54ba08 .5s}@-webkit-keyframes fixed-top-data-v-af54ba08{0%{-webkit-transform:translateY(%?-30?%);opacity:0}}.fixed-user[data-v-af54ba08]{display:flex;align-items:center}.fixed-user .avatar[data-v-af54ba08]{width:%?60?%;height:%?60?%;border-radius:50%}.fixed-user  .username[data-v-af54ba08]{font-size:%?28?%}.content .image[data-v-af54ba08]{position:relative;top:%?-200?%}.content .image uni-image[data-v-af54ba08]{width:100%}.content .main[data-v-af54ba08]{position:relative;top:%?-200?%;width:100%;z-index:22}.content .main .top[data-v-af54ba08]{width:100%;height:%?340?%;display:block;background-color:#fff;border-radius:10px}.content .main .top .user[data-v-af54ba08]{width:100%;display:flex;justify-content:space-between;align-items:center;height:%?200?%}.content .main .top .user .user-left[data-v-af54ba08]{width:%?500?%}.content .main .top .user .user-left uni-image[data-v-af54ba08]{position:absolute;left:%?60?%;top:%?-50?%;width:%?120?%;height:%?120?%;border-radius:50%}\n\n/* .user-content {\n\tmargin-top: 80rpx;\n\tmargin-left: 60rpx;\n\n} */\n\n/* .user-id {\n\tmargin-top: 5rpx;\n\tmargin-bottom: 5rpx;\n\tcolor: #5c5c5c;\n} */\n\n/* .f{\n\tfont-size: 28rpx;\n} */.content .main .top .user .user-right[data-v-af54ba08]{display:flex;justify-content:space-between;align-items:center;height:%?80?%;margin-right:%?20?%\n\t/* width: 200rpx; */}.user-message[data-v-af54ba08]{width:%?80?%;height:%?60?%;text-align:center;background-color:#f0f0f0;line-height:%?60?%;border-radius:14px;margin-right:5px}.content .main .top .user .user-right uni-button[data-v-af54ba08]{height:%?60?%;width:%?150?%;background-color:red;font-size:16px;color:#fff;line-height:%?60?%;border-radius:10px}.content .main .top .info[data-v-af54ba08]{display:flex;height:%?100?%;margin-left:%?80?%;margin-right:%?80?%;justify-content:space-between;align-items:center;font-size:%?28?%}.nologin[data-v-af54ba08]{padding-top:%?120?%}.nologin uni-button[data-v-af54ba08]{width:%?300?%;height:%?80?%;color:#fff;background-color:red;border-radius:20px;line-height:%?80?%}.info[data-v-af54ba08]{display:flex;justify-content:space-around;background-color:#fff;\n\t/* padding: 10rpx; */border-radius:%?100?%;box-shadow:0 %?5?% %?10?% rgba(0,0,0,.1);margin:%?10?%}.info-item[data-v-af54ba08]{text-align:center;cursor:pointer;flex:1}.info-title[data-v-af54ba08]{font-size:%?28?%;color:#666;margin-bottom:%?10?%}.info-count[data-v-af54ba08]{font-size:%?36?%;font-weight:700;color:#333}.follow[data-v-af54ba08]:hover,\n.fan[data-v-af54ba08]:hover,\n.trend[data-v-af54ba08]:hover{-webkit-transform:translateY(%?-2?%);transform:translateY(%?-2?%);transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out}.follow .info-count[data-v-af54ba08]{color:#1e90ff /* 蓝色 */}.fan .info-count[data-v-af54ba08]{color:tomato /* 番茄红 */}.trend .info-count[data-v-af54ba08]{color:#32cd32 /* 黄绿色 */}",""]),t.exports=e},"889d":function(t,e,n){"use strict";var a=n("4204"),i=n.n(a);i.a},"954f":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.clearFollow=function(t){return a.request.post(i.appConfig.WEB_API+"/app/follow/clearFollow",t)},e.followUser=function(t){return a.request.post(i.appConfig.WEB_API+"/web/app/follow/followUser",t)},e.getAllFriend=function(t,e,n){return a.request.get(i.appConfig.WEB_API+"/app/follower/getFriend/".concat(t,"/").concat(e),n)},e.getFollow=function(t,e){return a.request.get(i.appConfig.WEB_API+"/app/follower/getFollowList/".concat(t,"/").concat(e))},e.isFollow=function(t){return a.request.get(i.appConfig.WEB_API+"/app/follower/isFollow",t)},n("c223");var a=n("fea7"),i=n("10ac")},cd5d:function(t,e,n){"use strict";n.r(e);var a=n("57b6"),i=n("6fc3");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("889d");var s=n("828b"),r=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"af54ba08",null,!1,a["a"],void 0);e["default"]=r.exports}}]);