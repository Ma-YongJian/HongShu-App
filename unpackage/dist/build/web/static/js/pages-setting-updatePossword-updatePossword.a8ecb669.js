(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-setting-updatePossword-updatePossword"],{"3f92":function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,".container[data-v-45ba6c66]{width:90%}.nav[data-v-45ba6c66]{display:flex;align-items:center;background-color:#fff;height:%?80?%}.top[data-v-45ba6c66]{padding-top:40px}.title[data-v-45ba6c66]{text-align:center;font-size:30px}.main[data-v-45ba6c66]{margin-left:%?40?%}.info-input[data-v-45ba6c66]{margin-top:10px;height:%?60?%;border-bottom:1px solid #f4f4f4}.code[data-v-45ba6c66]{display:flex;align-items:center}.regist[data-v-45ba6c66]{margin-top:20px}",""]),t.exports=i},"410b":function(t,i,a){"use strict";a("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=a("2d58"),n=a("faf5"),o={data:function(){return{T:!0,check:!1,count:0,userInfo:{},value:"",code:"",password:"",checkPassword:""}},created:function(){this.userInfo=uni.getStorageSync("userInfo")},methods:{back:function(){uni.navigateBack({delta:1})},getCode:function(){var t=this,i=(0,n.isMobile)(this.value),a=(0,n.isEmail)(this.value);if(i){var o={};o.phone=this.value,(0,e.sendMsm)(o).then((function(t){uni.showToast({title:"发送成功"})}))}else{if(!a)return void uni.showToast({title:"请输入正确手机号或邮箱"});var s={};s.email=this.value,(0,e.sendDm)(s).then((function(t){uni.showToast({title:"发送成功"})}))}this.T=!1,this.count=60;var r=setInterval((function(){t.count--,t.count<=1&&(t.T=!0,clearInterval(r))}),1e3)},next:function(){var t=this,i={},a=(0,n.isMobile)(this.value),o=(0,n.isEmail)(this.value);i.code=this.code,a?i.phone=this.value:o&&(i.email=this.value),i.type=0,i.id=this.userInfo.id,(0,e.check)(i).then((function(i){1===i.data.res?t.check=!0:uni.showToast({title:i.data.message})}))},updatePassword:function(){var t=(0,n.validatorPassword)(this.password);if(t)if(this.password===this.checkPassword){var i={};i.id=this.userInfo.id,i.password=this.password,i.checkPassword=this.checkPassword,(0,e.updatePassword)(i).then((function(t){t.data&&(uni.showToast({title:"修改成功"}),setTimeout((function(){uni.reLaunch({url:"/pages/user/user"})}),1e3))}))}else uni.showToast({title:"两次输入的密码不一致"});else uni.showToast({title:"请输入8-20位由字母和数字组成的密码"})}}};i.default=o},"41b8":function(t,i,a){var e=a("3f92");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("74612e3e",e,!0,{sourceMap:!1,shadowMode:!1})},"47df":function(t,i,a){"use strict";a("6a54"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("64aa"),a("5ef2"),a("5c47"),a("c223"),a("e966");var e={name:"tuiNavigationBar",emits:["init","change"],props:{title:{type:String,default:""},color:{type:String,default:"#333"},backgroundColor:{type:String,default:"#fff"},splitLine:{type:Boolean,default:!1},isOpacity:{type:Boolean,default:!0},maxOpacity:{type:[Number,String],default:1},transparent:{type:Boolean,default:!1},scrollTop:{type:[Number,String],default:0},scrollRatio:{type:[Number,String],default:.3},isCustom:{type:Boolean,default:!1},isImmersive:{type:Boolean,default:!0},isFixed:{type:Boolean,default:!0},backdropFilter:{type:Boolean,default:!1},dropDownHide:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:996}},watch:{scrollTop:function(t,i){this.isOpacity&&!this.transparent&&this.opacityChange()},backgroundColor:function(t){t&&(this.background=this.hexToRgb(t))}},data:function(){return{width:375,left:375,height:44,top:0,scrollH:1,opacity:1,statusBarHeight:0,background:"255,255,255",dropDownOpacity:1}},created:function(){var t=this;this.dropDownOpacity=this.backdropFilter&&0,this.opacity=this.isOpacity||this.transparent?0:this.maxOpacity,this.background=this.hexToRgb(this.backgroundColor);var i={};uni.getSystemInfo({success:function(a){t.statusBarHeight=a.statusBarHeight,t.width=a.windowWidth,t.left=i.left||a.windowWidth,t.isImmersive&&(t.height=i.top?i.top+i.height+8:a.statusBarHeight+44),t.scrollH=a.windowWidth*t.scrollRatio,t.top=i.top?i.top+(i.height-32)/2:a.statusBarHeight+6,t.$emit("init",{width:t.width,height:t.height,left:t.left,top:t.top,statusBarHeight:t.statusBarHeight,opacity:t.opacity,windowHeight:a.windowHeight})}})},methods:{hexToRgb:function(t){var i="255,255,255";if(t&&~t.indexOf("#")){if(4===t.length){var a=t.substring(1,4);t="#"+a+a}var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);e&&(i="".concat(parseInt(e[1],16),",").concat(parseInt(e[2],16),",").concat(parseInt(e[3],16)))}return i},opacityChange:function(){this.dropDownHide&&(this.scrollTop<0?this.dropDownOpacity>0&&(this.dropDownOpacity=1-Math.abs(this.scrollTop)/30):this.dropDownOpacity=1);var t=this.scrollTop<=1?0:this.scrollTop,i=t/this.scrollH;this.opacity>=this.maxOpacity&&i>=this.maxOpacity||0==this.opacity&&0==i||(this.opacity=i>this.maxOpacity?this.maxOpacity:i,this.backdropFilter&&(this.dropDownOpacity=this.opacity>=this.maxOpacity?1:this.opacity),this.$emit("change",{opacity:this.opacity}))}}};i.default=e},"4fc2":function(t,i,a){"use strict";a.r(i);var e=a("410b"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a},"53dc":function(t,i,a){var e=a("c86c");i=e(!1),i.push([t.i,'.tui-navigation-bar[data-v-6d069bc1]{width:100%;transition:opacity .4s}.tui-backdrop__filter[data-v-6d069bc1]{\n\t/* Safari for macOS & iOS */-webkit-backdrop-filter:blur(15px);\n\t/* Google Chrome */backdrop-filter:blur(15px)}.tui-navbar-fixed[data-v-6d069bc1]{position:fixed;left:0;top:0}.tui-status-bar[data-v-6d069bc1]{width:100%}.tui-navigation_bar-title[data-v-6d069bc1]{width:100%;font-size:17px;line-height:17px;\nfont-weight:500;\nheight:32px;display:flex;align-items:center;justify-content:center}.tui-bar-line[data-v-6d069bc1]::after{content:"";position:absolute;border-bottom:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5);transform:scaleY(.5);bottom:0;right:0;left:0}',""]),t.exports=i},"841c":function(t,i,a){"use strict";a.r(i);var e=a("c32c"),n=a("4fc2");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("b125");var s=a("828b"),r=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"45ba6c66",null,!1,e["a"],void 0);i["default"]=r.exports},"9ebd":function(t,i,a){"use strict";a.r(i);var e=a("d444"),n=a("f672");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(o);a("d330");var s=a("828b"),r=Object(s["a"])(n["default"],e["b"],e["c"],!1,null,"6d069bc1",null,!1,e["a"],void 0);i["default"]=r.exports},b125:function(t,i,a){"use strict";var e=a("41b8"),n=a.n(e);n.a},b9e6:function(t,i,a){var e=a("53dc");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("967d").default;n("2fb0ebd2",e,!0,{sourceMap:!1,shadowMode:!1})},c32c:function(t,i,a){"use strict";a.d(i,"b",(function(){return n})),a.d(i,"c",(function(){return o})),a.d(i,"a",(function(){return e}));var e={tuiNavigationBar:a("9ebd").default,tuiIcon:a("bd7a").default,tuiButton:a("e718").default,tuiTag:a("7be8").default},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"container"},[a("tui-navigation-bar",{attrs:{backgroundColor:"#fff",isFixed:!1,isOpacity:!1}},[a("v-uni-view",{staticClass:"nav"},[a("tui-icon",{attrs:{name:"arrowleft",size:"25"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.back.apply(void 0,arguments)}}}),a("h3",[t._v("修改密码")])],1)],1),t.check?a("v-uni-view",{staticClass:"main"},[a("v-uni-input",{staticClass:"info-input",attrs:{placeholder:"输入密码",type:"password"},model:{value:t.password,callback:function(i){t.password=i},expression:"password"}}),a("v-uni-input",{staticClass:"info-input",attrs:{placeholder:"重新输入密码",type:"password"},model:{value:t.checkPassword,callback:function(i){t.checkPassword=i},expression:"checkPassword"}}),a("v-uni-view",{staticClass:"regist"},[a("tui-button",{attrs:{type:"danger",shape:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.updatePassword.apply(void 0,arguments)}}},[t._v("修改密码")])],1)],1):a("v-uni-view",{staticClass:"main"},[a("v-uni-view",{staticClass:"center"},[a("v-uni-input",{staticClass:"info-input",attrs:{placeholder:"输入手机号/邮箱注册"},model:{value:t.value,callback:function(i){t.value=i},expression:"value"}}),a("v-uni-view",{staticClass:"code"},[a("v-uni-input",{staticClass:"info-input",attrs:{placeholder:"验证码输入"},model:{value:t.code,callback:function(i){t.code=i},expression:"code"}}),t.T?a("tui-button",{attrs:{type:"white",width:"200rpx",link:!0,height:"60rpx"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getCode()}}},[t._v("验证码")]):a("tui-tag",{attrs:{type:"white"}},[t._v(t._s(t.count))])],1)],1),a("v-uni-view",{staticClass:"regist"},[a("tui-button",{attrs:{type:"danger",shape:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.next()}}},[t._v("下一步")])],1)],1)],1)},o=[]},d330:function(t,i,a){"use strict";var e=a("b9e6"),n=a.n(e);n.a},d444:function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"tui-navigation-bar",class:{"tui-bar-line":t.opacity>.85&&t.splitLine,"tui-navbar-fixed":t.isFixed,"tui-backdrop__filter":t.backdropFilter&&t.dropDownOpacity>0},style:{height:t.height+"px",backgroundColor:"rgba("+t.background+","+t.opacity+")",opacity:t.dropDownOpacity,zIndex:t.isFixed?t.zIndex:"auto"}},[t.isImmersive?a("v-uni-view",{staticClass:"tui-status-bar",style:{height:t.statusBarHeight+"px"}}):t._e(),t.title&&!t.isCustom?a("v-uni-view",{staticClass:"tui-navigation_bar-title",style:{opacity:t.transparent||t.opacity>=t.maxOpacity?1:t.opacity,color:t.color,paddingTop:t.top-t.statusBarHeight+"px"}},[t._v(t._s(t.title))]):t._e(),t._t("default")],2)},n=[]},f672:function(t,i,a){"use strict";a.r(i);var e=a("47df"),n=a.n(e);for(var o in e)["default"].indexOf(o)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(o);i["default"]=n.a}}]);