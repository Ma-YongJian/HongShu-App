(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-regist-regist"],{"932a":function(e,t,n){"use strict";var a=n("f710"),i=n.n(a);i.a},"967d":function(e,t,n){"use strict";function a(e,t){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],o=r[0],u=r[1],s=r[2],c=r[3],l={id:e+":"+i,css:u,media:s,sourceMap:c};a[o]?a[o].parts.push(l):n.push(a[o]={id:o,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return p}));var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},o=i&&(document.head||document.getElementsByTagName("head")[0]),u=null,s=0,c=!1,l=function(){},d=null,f="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,i){c=n,d=i||{};var o=a(e,t);return v(o),function(t){for(var n=[],i=0;i<o.length;i++){var u=o[i],s=r[u.id];s.refs--,n.push(s)}t?(o=a(e,t),v(o)):o=[];for(i=0;i<n.length;i++){s=n[i];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete r[s.id]}}}}function v(e){for(var t=0;t<e.length;t++){var n=e[t],a=r[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(g(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var o=[];for(i=0;i<n.parts.length;i++)o.push(g(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:o}}}}function h(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function g(e){var t,n,a=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(a){if(c)return l;a.parentNode.removeChild(a)}if(f){var i=s++;a=u||(u=h()),t=m.bind(null,a,i,!1),n=m.bind(null,a,i,!0)}else a=h(),t=w.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function m(e,t,n,a){var i=n?"":U(a.css);if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var r=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function w(e,t){var n=U(t.css),a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),d.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var x=/%\?([+-]?\d+(\.\d+)?)\?%/g,y=/\.\?%PAGE\?%/g,C=/\?%PAGE\?%\[data-v-[a-z0-9]{8}\]/g,T=/uni-page-body\[data-v-[a-z0-9]{8}\]/g,I=/var\(--status-bar-height\)/gi,k=/var\(--window-top\)/gi,M=/var\(--window-bottom\)/gi,E=/var\(--window-left\)/gi,S=/var\(--window-right\)/gi;function U(e){var t=function(){var e="function"===typeof getApp&&getApp();return e&&e.$route&&e.$route.meta&&e.$route.meta.name||""}();if("undefined"!==typeof uni&&!uni.canIUse("css.var")){var n=function(){var e="function"===typeof getApp&&getApp();if(e&&e.$route&&e.$route.meta&&e.$route.meta.name)return{top:e.$route.meta.windowTop,bottom:e.$route.meta.isTabBar?50:0};return{top:0,bottom:0}}();e=e.replace(I,"0px").replace(k,n.top+"px").replace(M,n.bottom+"px").replace(E,"0px").replace(S,"0px")}return e.replace(C,t).replace(y,"").replace(T,"body."+t+" uni-page-body").replace(/\{[\s\S]+?\}|@media.+?\{/g,(function(e){return"undefined"===typeof uni?e:e.replace(x,(function(e,t){return uni.upx2px(t)+"px"}))}))}},9994:function(e,t,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("2634")),r=a(n("2fdc")),o=n("2d58"),u=n("efb0"),s=n("faf5"),c={data:function(){return{T:!0,count:0,userInfo:{},value:"",code:""}},methods:{getCode:function(){var e=this;return(0,r.default)((0,i.default)().mark((function t(){var n,a,r,u;return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=(0,s.isMobile)(e.value),a=(0,s.isEmail)(e.value),r=!1,!n){t.next=9;break}return e.userInfo.phone=e.value,t.next=7,(0,o.isRegist)(e.userInfo).then((function(t){if(t.data)uni.showToast({title:"手机号已经被注册"}),r=!0;else{var n={};n.phone=e.value,(0,o.sendMsm)(n).then((function(e){uni.showToast({title:"发送成功"})}))}}));case 7:t.next=17;break;case 9:if(!a){t.next=15;break}return e.userInfo.email=e.value,t.next=13,(0,o.isRegist)(e.userInfo).then((function(t){if(t.data)uni.showToast({title:"邮箱已经被注册"}),r=!0;else{var n={};n.email=e.value,(0,o.sendDm)(n).then((function(e){uni.showToast({title:"发送成功"})}))}}));case 13:t.next=17;break;case 15:return uni.showToast({title:"请输入正确手机号或邮箱"}),t.abrupt("return");case 17:r||(e.T=!1,e.count=60,u=setInterval((function(){e.count--,e.count<=1&&(e.T=!0,clearInterval(u))}),1e3));case 18:case"end":return t.stop()}}),t)})))()},regist:function(){var e=(0,s.isMobile)(this.value),t=(0,s.isEmail)(this.value);if(this.userInfo.code=this.code,e)this.userInfo.phone=this.value;else{if(!t)return void uni.showToast({title:"请输入正确手机号或邮箱"});this.userInfo.email=this.value}(0,o.register)(this.userInfo).then((function(e){if("1"===e.data.res){uni.showToast({title:e.data.message});var t=e.data.userInfo;u.tokenUtil.set(e.data.JwtToken),uni.setStorageSync("userInfo",t),setTimeout((function(){uni.reLaunch({url:"/pages/index/index"})}),500)}else uni.showToast({title:e.data.message})}))}}};t.default=c},bcb8:function(e,t,n){"use strict";n.r(t);var a=n("e884"),i=n("c4b4");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("932a");var o=n("828b"),u=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"e00bb36a",null,!1,a["a"],void 0);t["default"]=u.exports},c4b4:function(e,t,n){"use strict";n.r(t);var a=n("9994"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=i.a},c86c:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"===typeof btoa){var i=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}(a),r=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(r).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"===typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);a&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},cd2c:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".container[data-v-e00bb36a]{padding:%?100?% %?100?%}.top[data-v-e00bb36a]{padding-top:40px}.title[data-v-e00bb36a]{text-align:center;font-size:30px}.main[data-v-e00bb36a]{margin-top:%?300?%}.info-input[data-v-e00bb36a]{margin-top:10px;height:%?60?%;border-bottom:1px solid #f4f4f4}.code[data-v-e00bb36a]{display:flex;align-items:center}.regist[data-v-e00bb36a]{margin-top:20px}",""]),e.exports=t},e884:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}));var a={tuiButton:n("e718").default,tuiTag:n("7be8").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"title"},[e._v("注册")])],1),n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"center"},[n("v-uni-input",{staticClass:"info-input",attrs:{placeholder:"请输入手机号注册"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),n("v-uni-view",{staticClass:"code"},[n("v-uni-input",{staticClass:"info-input",attrs:{placeholder:"请输入验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),e.T?n("tui-button",{attrs:{type:"white",width:"200rpx",link:!0,height:"60rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode()}}},[e._v("验证码")]):n("tui-tag",{attrs:{type:"white"}},[e._v(e._s(e.count))])],1)],1),n("v-uni-view",{staticClass:"regist"},[n("tui-button",{attrs:{type:"danger",shape:"circle"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.regist.apply(void 0,arguments)}}},[e._v("注册")])],1)],1),n("v-uni-view")],1)},r=[]},f710:function(e,t,n){var a=n("cd2c");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("967d").default;i("17fc0a6c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);