(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-message-message~pages-message-message2","pages-user-collections-collectionImgs-collectionImgs"],{"215e":function(e,t,n){var a=n("a73a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("967d").default;o("7705d75a",a,!0,{sourceMap:!1,shadowMode:!1})},"25f4":function(e,t,n){"use strict";n.r(t);var a=n("53c2"),o=n("39bd");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("4e83");var i=n("828b"),c=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"e7da84b6",null,!1,a["a"],void 0);t["default"]=c.exports},"292f":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.clearUserRecord=function(e){return a.request.get(o.appConfig.WEB_API+"/app/im/chat/clearMessageCount",e)},t.getMe=function(e){return a.request.get(o.appConfig.WEB_API+"/manage/user/getOne",e)},t.getTrendByUser=function(e,t,n){return a.request.get(o.appConfig.WEB_API+"/app/user/getTrendByUser/".concat(e,"/").concat(t),n)},t.getUserInfo=function(e){return a.request.get(o.appConfig.WEB_API+"/app/user/getUserById",e)},t.getUserRecord=function(e){return a.request.get(o.appConfig.WEB_API+"/app/im/chat/getChatUserList",e)},t.searchUser=function(e,t,n){return a.request.get(o.appConfig.WEB_API+"/app/user/getUserByKeyword/".concat(e,"/").concat(t),n)},t.searchUserByUsername=function(e){return a.request.get(o.appConfig.WEB_API+"/web/user/searchUserByUsername",e)},t.updateUser=function(e){return a.request.post(o.appConfig.WEB_API+"/app/user/updateUser",e)},n("c223");var a=n("fea7"),o=n("10ac")},"39bd":function(e,t,n){"use strict";n.r(t);var a=n("52be"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},"42fa":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:[e.dot?"tui-badge-dot":"tui-badge","tui-"+e.type,e.dot?"":"tui-badge-scale"],style:{top:e.top,right:e.right,position:e.absolute?"absolute":"static",transform:e.getStyle,margin:e.margin},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[e._t("default")],2)},o=[]},"4e83":function(e,t,n){"use strict";var a=n("75de"),o=n.n(a);o.a},"52be":function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("bf0f"),n("2797");var a={name:"tuiSwipeAction",emits:["click"],props:{actions:{type:Array,default:function(){return[]}},closable:{type:Boolean,default:!0},showMask:{type:Boolean,default:!0},operateWidth:{type:Number,default:80},params:{type:Object,default:function(){return{}}},forbid:{type:Boolean,default:!1},open:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#fff"}},watch:{actions:function(e,t){this.updateButtonSize()},open:function(e){this.manualSwitch(e)}},data:function(){return{tStart:{pageX:0,pageY:0},limitMove:0,position:{pageX:0,pageY:0},isShowBtn:!1,move:!1}},mounted:function(){this.updateButtonSize()},methods:{swipeDirection:function(e,t,n,a){return Math.abs(e-t)>=Math.abs(n-a)?e-t>0?"Left":"Right":n-a>0?"Up":"Down"},loop:function(){},updateButtonSize:function(){var e=this.actions;if(e.length>0){uni.createSelectorQuery().in(this);var t=0;e.forEach((function(e){t+=e.width||0})),this.limitMove=t}else this.limitMove=this.operateWidth},handlerTouchstart:function(e){if(!this.forbid){var t=e.touches;if(!(t&&t.length>1)){this.move=!0,t=t?e.touches[0]:{},(!t||void 0===t.pageX&&void 0===t.pageY)&&(t={pageX:e.pageX,pageY:e.pageY});var n=this.tStart;if(t)for(var a in n)t[a]&&(n[a]=t[a])}}},swipper:function(e){var t=this.tStart,n={pageX:e.pageX-t.pageX,pageY:e.pageY-t.pageY};this.limitMove<Math.abs(n.pageX)&&(n.pageX=-this.limitMove),this.position=n},handlerTouchmove:function(e){if(!this.forbid&&this.move){var t=this.tStart,n=e.touches?e.touches[0]:{};if((!n||void 0===n.pageX&&void 0===n.pageY)&&(n={pageX:e.pageX,pageY:e.pageY}),n){var a=this.swipeDirection(t.pageX,n.pageX,t.pageY,n.pageY);"Left"===a&&Math.abs(this.position.pageX)!==this.limitMove&&this.swipper(n)}}},handlerTouchend:function(e){if(!this.forbid&&this.move){this.move=!1;var t=this.tStart,n=e.changedTouches?e.changedTouches[0]:{};if((!n||void 0===n.pageX&&void 0===n.pageY)&&(n={pageX:e.pageX,pageY:e.pageY}),n){var a=this.swipeDirection(t.pageX,n.pageX,t.pageY,n.pageY),o={pageX:n.pageX-t.pageX,pageY:n.pageY-t.pageY};Math.abs(o.pageX)>=40&&"Left"===a?(o.pageX=o.pageX<0?-this.limitMove:this.limitMove,this.isShowBtn=!0):o.pageX=0,0==o.pageX&&(this.isShowBtn=!1),this.position=o}}},handlerButton:function(e){this.closable&&this.closeButtonGroup();var t=e.currentTarget.dataset;this.$emit("click",{index:Number(t.index),item:this.params})},closeButtonGroup:function(){this.position={pageX:0,pageY:0},this.isShowBtn=!1},handlerParentButton:function(e){this.closable&&this.closeButtonGroup()},manualSwitch:function(e){var t=0;if(e)if(0===this.actions.length)t=this.operateWidth;else{var n=0;this.actions.forEach((function(e){n+=e.width})),t=n}this.position={pageX:-t,pageY:0}},px:function(e){return uni.upx2px(e)+"px"}}};t.default=a},"53c2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"tui-swipeout-wrap",style:{backgroundColor:e.backgroundColor}},[n("v-uni-view",{staticClass:"tui-swipeout-item",class:[e.isShowBtn?"swipe-action-show":""],style:{transform:"translate("+e.position.pageX+"px,0)"}},[n("v-uni-view",{staticClass:"tui-swipeout-content",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerTouchstart.apply(void 0,arguments)},touchmove:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerTouchmove.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerTouchend.apply(void 0,arguments)},mousedown:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerTouchstart.apply(void 0,arguments)},mousemove:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerTouchmove.apply(void 0,arguments)},mouseup:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerTouchend.apply(void 0,arguments)}}},[e._t("content")],2),e.actions.length>0?n("v-uni-view",{staticClass:"tui-swipeout-button-right-group",on:{touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.loop.apply(void 0,arguments)}}},e._l(e.actions,(function(t,a){return n("v-uni-view",{key:a,staticClass:"tui-swipeout-button-right-item",style:{backgroundColor:t.background||"#f7f7f7",color:t.color,width:t.width+"px"},attrs:{"data-index":a},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerButton.apply(void 0,arguments)}}},[t.icon?n("v-uni-image",{style:{width:e.px(t.imgWidth),height:e.px(t.imgHeight)},attrs:{src:t.icon}}):e._e(),n("v-uni-text",{style:{fontSize:e.px(t.fontsize)}},[e._v(e._s(t.name))])],1)})),1):e._e(),0===e.actions.length?n("v-uni-view",{staticClass:"tui-swipeout-button-right-group",style:{width:e.operateWidth+"px",right:"-"+e.operateWidth+"px"},on:{touchend:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.loop.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlerParentButton.apply(void 0,arguments)}}},[e._t("button")],2):e._e()],1),e.isShowBtn&&e.showMask?n("v-uni-view",{staticClass:"swipe-action_mask",on:{touchstart:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.closeButtonGroup.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.closeButtonGroup.apply(void 0,arguments)}}}):e._e()],1)},o=[]},"677a":function(e,t,n){"use strict";var a=n("215e"),o=n.n(a);o.a},"6e2f":function(e,t,n){(function(e){var a=n("bdbb").default;n("6a54"),n("01a2"),n("e39c"),n("bf0f"),n("4e9b"),n("114e"),n("c240"),n("844d"),n("18f7"),n("de6c"),n("5c47"),n("2c10"),n("9e15"),n("884b"),n("7a76"),n("c9b5"),n("64aa"),n("ab80"),n("c223"),n("d4b5"),n("5ef2"),n("2797"),n("aa9c"),n("dd2b"),n("4db2"),n("c976"),n("4d8f"),n("7b97"),n("668a"),n("c5b7"),n("8ff5"),n("2378"),n("641a"),n("64e0"),n("cce3"),n("efba"),n("d009"),n("bd7d"),n("7edd"),n("d798"),n("f547"),n("5e54"),n("b60a"),n("8c18"),n("12973"),n("f991"),n("198e"),n("8557"),n("63b1"),n("1954"),n("1cf1"),n("80e3"),function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==a(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(t,n,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function i(t,n,a){n?n.errMsg||(n.errMsg="callback:ok"):"object"===r(a)?(a||(a={errMsg:"callback:fail"}),a.errMsg||(a.errMsg=a.message||"callback:fail")):a={errMsg:"callback:fail "+String(a)},t&&"function"==typeof t.success&&n&&t.success(n),a&&e.warn("Callback Fail:",a),t&&"function"==typeof t.fail&&a&&t.fail(a),t&&"function"==typeof t.complete&&t.complete(n||a)}Object.defineProperty(n,"__esModule",{value:!0}),n.getCallback=n.callback=n.plusReady=n.isApp=n.isWeex=n.isWeb=n.isPlus=void 0,n.isPlus="object"===("undefined"==typeof navigator?"undefined":r(navigator))&&!!navigator.userAgent.match(/Html5Plus/i),n.isWeb="object"===("undefined"==typeof document?"undefined":r(document))&&!n.isPlus,n.isWeex="object"===("undefined"==typeof weex?"undefined":r(weex)),n.isApp=n.isPlus||n.isWeex,n.plusReady=function(e){"object"===("undefined"==typeof plus?"undefined":r(plus))?e():n.isApp&&window.addEventListener("plusready",e,!1)},n.callback=i,n.getCallback=function(){return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);Object.defineProperty(t,"connectSocket",{enumerable:!0,get:function(){return a.connectSocket}}),Object.defineProperty(t,"onSocketOpen",{enumerable:!0,get:function(){return a.onSocketOpen}}),Object.defineProperty(t,"onSocketError",{enumerable:!0,get:function(){return a.onSocketError}}),Object.defineProperty(t,"sendSocketMessage",{enumerable:!0,get:function(){return a.sendSocketMessage}}),Object.defineProperty(t,"onSocketMessage",{enumerable:!0,get:function(){return a.onSocketMessage}}),Object.defineProperty(t,"closeSocket",{enumerable:!0,get:function(){return a.closeSocket}}),Object.defineProperty(t,"onSocketClose",{enumerable:!0,get:function(){return a.onSocketClose}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onSocketClose=t.closeSocket=t.onSocketMessage=t.sendSocketMessage=t.onSocketError=t.onSocketOpen=t.connectSocket=void 0;var a=n(3),o=null,r={};function i(e,t){o?o[e](t):r[e]=t}t.connectSocket=function(e){e=e||{};var t=new a.SocketTask(e);function n(){o=null}if(t.onClose(n),t.onError(n),!o)for(var i in o=t,r)r.hasOwnProperty(i)&&t[i](r[i]);return o=o||t,t},t.onSocketOpen=function(e){i("onOpen",e)},t.onSocketError=function(e){i("onError",e)},t.sendSocketMessage=function(e){o&&o.send(e)},t.onSocketMessage=function(e){i("onMessage",e)},t.closeSocket=function(e){o&&o.close(e)},t.onSocketClose=function(e){i("onClose",e)}},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(r=a.key,void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r,"string"),"symbol"===o(i)?i:String(i)),a)}var r,i}var i=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return c(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SocketTask=void 0;var d,l,f=s(n(4)),p=n(0),b=u(n(5)),h={},g=n(6),v=!1,y=[],m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Date.now().toString(),this.eval("connect",t)}var t,a;return t=e,(a=[{key:"send",value:function(e){e.data&&"string"!=typeof e.data&&(e.data=[b.default.encode(e.data)]),this.eval("send",e)}},{key:"close",value:function(e){this.eval("close",e)}},{key:"onOpen",value:function(e){this.on("open",e)}},{key:"onClose",value:function(e){this.on("close",e)}},{key:"onError",value:function(e){this.on("error",e)}},{key:"onMessage",value:function(e){this.on("message",(function(t){t=(t=t.data)&&"string"!=typeof t?b.default.decode(t[0]):t,e({data:t})}))}},{key:"eval",value:function(e,t){var a="callback".concat(Date.now()),o=p.isWeb?window:h;o[a]=function(e){delete o[a],e?p.callback(t,{},e):p.callback(t,{})};var r="window.__webSocket&&__webSocket.".concat(e,"(").concat(this.id,",").concat(JSON.stringify(t),",'").concat(a,"')");p.isWeb?(d||(window.eval(g),d=!0),window.eval(r)):p.plusReady((function(){!function(e){var t=plus.webview.getWebviewById("__websocket__");if(!t){var a=n(7);(t=plus.webview.create("http://www.dcloud.io","__websocket__",{kernel:"WKWebview",render:"always",plusrequire:"none"})).overrideUrlLoading({match:".*data.*"},(function(e){var n=e.url,a=n.match(/\?(\S+)=(\S+)/);if(a){var o=a[1],r=JSON.parse(decodeURIComponent(a[2]));"event"===o?f.emit(r.type,r.data):"callback"===o&&h[r.callbackName](r.error)}else!v&&"number"!=typeof l&&n.indexOf("load")>=0?l=setInterval((function(){t.evalJS(g)}),16):!v&&n.indexOf("ready")>=0&&(clearInterval(l),v=!0,y.forEach((function(e){e(t)})),y=[])})),t.loadData(a,{baseURL:"http://websocket.websocket"})}v?e(t):y.push(e)}((function(e){e.evalJS(r)}))}))}},{key:"on",value:function(e,t){f.on("websocket".concat(e).concat(this.id),(function(e){t(e.detail)}))}}])&&r(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.SocketTask=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emit=t.off=t.on=void 0;var a=n(0),o={};t.on=function(e,t){a.isWeb?window.addEventListener(e,t,!1):(o[e]=o[e]||[],o[e].push(t))},t.off=function(e,t){if(a.isWeb)window.removeEventListener(e,t,!1);else{var n=o[e];n&&n.splice(n.indexOf(t),1)}},t.emit=function(e,t){if(a.isWeb)document.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0}));else{var n=o[e];n&&n.forEach((function(e){e({detail:t})}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup:null,encode:function(e){var t,n=this.chars,a=new Uint8Array(e),o=a.length,r="";for(t=0;t<o;t+=3)r+=n[a[t]>>2],r+=n[(3&a[t])<<4|a[t+1]>>4],r+=n[(15&a[t+1])<<2|a[t+2]>>6],r+=n[63&a[t+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r},decode:function(e){var t=this.chars,n=this.lookup;if(!n){n=this.lookup=new Uint8Array(256);for(var a=0;a<t.length;a++)n[t.charCodeAt(a)]=a}var o,r,i,c,s=.75*e.length,u=e.length,d=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(a=0;a<u;a+=4)o=n[e.charCodeAt(a)],r=n[e.charCodeAt(a+1)],i=n[e.charCodeAt(a+2)],c=n[e.charCodeAt(a+3)],f[d++]=o<<2|r>>4,f[d++]=(15&r)<<4|i>>2,f[d++]=(3&i)<<6|63&c;return l}};t.default=a},function(e,t){e.exports="(function () {\n    if (window.__webSocket) {\n        return\n    }\n    var isPlus = typeof navigator === 'object' && !!navigator.userAgent.match(/Html5Plus/i)\n    if (isPlus) {\n        location.href = 'http://data?ready'\n    }\n    // 自定义事件\n    var $event = {\n        emit (type, data) {\n            if (!isPlus) {\n                document.dispatchEvent(new CustomEvent(type, {\n                    detail: data,\n                    bubbles: true\n                }))\n                return\n            }\n            location.href = 'http://data?event=' + encodeURIComponent(JSON.stringify({\n                type,\n                data\n            }))\n        }\n    }\n    var Base64 = {\n        chars: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n        lookup: null,\n        encode: function (arraybuffer) {\n            var chars = this.chars;\n            var bytes = new Uint8Array(arraybuffer),\n                i, len = bytes.length, base64 = \"\";\n\n            for (i = 0; i < len; i += 3) {\n                base64 += chars[bytes[i] >> 2];\n                base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n                base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n                base64 += chars[bytes[i + 2] & 63];\n            }\n\n            if ((len % 3) === 2) {\n                base64 = base64.substring(0, base64.length - 1) + \"=\";\n            } else if (len % 3 === 1) {\n                base64 = base64.substring(0, base64.length - 2) + \"==\";\n            }\n\n            return base64;\n        },\n        decode: function (base64) {\n            var chars = this.chars;\n            var lookup = this.lookup\n            if (!lookup) {\n                lookup = this.lookup = new Uint8Array(256);\n                for (var i = 0; i < chars.length; i++) {\n                    lookup[chars.charCodeAt(i)] = i;\n                }\n            }\n            var bufferLength = base64.length * 0.75,\n                len = base64.length, p = 0,\n                encoded1, encoded2, encoded3, encoded4;\n\n            if (base64[base64.length - 1] === \"=\") {\n                bufferLength--;\n                if (base64[base64.length - 2] === \"=\") {\n                    bufferLength--;\n                }\n            }\n\n            var arraybuffer = new ArrayBuffer(bufferLength),\n                bytes = new Uint8Array(arraybuffer);\n\n            for (i = 0; i < len; i += 4) {\n                encoded1 = lookup[base64.charCodeAt(i)];\n                encoded2 = lookup[base64.charCodeAt(i + 1)];\n                encoded3 = lookup[base64.charCodeAt(i + 2)];\n                encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n                bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n                bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n                bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n            }\n\n            return arraybuffer;\n        }\n    }\n\n    window.__webSocket = {\n        webSockets: {},\n        connect (id, data, callbackName) {\n            var url = data.url\n            var header = data.header// 未支持\n            var method = data.method// 未支持\n            var protocols = data.protocols || []\n            var webSocket\n            try {\n                webSocket = this.webSockets[id] = new WebSocket(url, protocols)\n                webSocket.binaryType = 'arraybuffer'\n            } catch (error) {\n                this.callback(callbackName, error)\n                return\n            }\n            this.callback(callbackName)\n            if (webSocket) {\n                webSocket.addEventListener('open', () => {\n                    $event.emit(`websocketopen${id}`, {})\n                })\n                webSocket.addEventListener('message', ({ data }) => {\n                    $event.emit(`websocketmessage${id}`, {\n                        data: data && typeof data !== 'string' ? [Base64.encode(data)] : data\n                    })\n                })\n                webSocket.addEventListener('error', () => {\n                    $event.emit(`websocketerror${id}`, {})\n                })\n                webSocket.addEventListener('close', (event) => {\n                    $event.emit(`websocketclose${id}`, {\n                        code: event.code,\n                        reason: event.reason\n                    })\n                })\n            }\n        },\n        send (id, data = {}, callbackName) {\n            data = data.data\n            data = data && typeof data !== 'string' ? Base64.decode(data[0]) : data\n            try {\n                this.webSockets[id].send(data)\n            } catch (error) {\n                this.callback(callbackName, error)\n                return\n            }\n            this.callback(callbackName)\n        },\n        close (id, data = {}, callbackName) {\n            var options = []\n            options.push(data.code || 1000)\n            if (typeof data.reason === 'string') {\n                options.push(data.reason)\n            }\n            try {\n                this.webSockets[id].close(...options)\n            } catch (error) {\n                this.callback(callbackName, error)\n                return\n            }\n            this.callback(callbackName)\n        },\n        callback (callbackName, error) {\n            if (isPlus) {\n                location.href = 'http://data?callback=' + encodeURIComponent(JSON.stringify({\n                    callbackName,\n                    error\n                }))\n            } else {\n                var js = `window.${callbackName}&&window.${callbackName}('${error || ''}')`\n                window[callbackName] && window[callbackName](error | '')\n                window.eval(js)\n            }\n        }\n    }\n})()"},function(e,t){e.exports='<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <title>WebSocket</title> </head> <body> <script>location.href="http://data/load"<\/script> </body> </html>'}]))}).call(this,n("ba7c")["default"])},"73e1":function(e,t,n){"use strict";var a=n("29d8");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(a)},"75cf":function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,".tui-swipeout-wrap[data-v-e7da84b6]{position:relative;overflow:hidden}.swipe-action-show[data-v-e7da84b6]{position:relative;z-index:998}.tui-swipeout-item[data-v-e7da84b6]{width:100%;\n\t/* padding: 15px 20px; */box-sizing:border-box;transition:-webkit-transform .2s ease;transition:transform .2s ease;transition:transform .2s ease,-webkit-transform .2s ease;font-size:14px;cursor:pointer}.tui-swipeout-content[data-v-e7da84b6]{white-space:nowrap;overflow:hidden}.tui-swipeout-button-right-group[data-v-e7da84b6]{position:absolute;right:-100%;top:0;height:100%;z-index:1;width:100%}.tui-swipeout-button-right-item[data-v-e7da84b6]{height:100%;float:left;white-space:nowrap;box-sizing:border-box;display:flex;align-items:center;justify-content:center;text-align:center}.swipe-action_mask[data-v-e7da84b6]{display:block;opacity:0;position:fixed;z-index:997;top:0;left:0;width:100%;height:100%}",""]),e.exports=t},"75d6":function(e,t,n){"use strict";n.r(t);var a=n("eca4"),o=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},"75de":function(e,t,n){var a=n("75cf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("967d").default;o("aff5fd1c",a,!0,{sourceMap:!1,shadowMode:!1})},"795c":function(e,t,n){"use strict";var a=n("8bdb"),o=n("db04").start,r=n("73e1");a({target:"String",proto:!0,forced:r},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},a6eb:function(e,t,n){"use strict";n.r(t);var a=n("42fa"),o=n("75d6");for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("677a");var i=n("828b"),c=Object(i["a"])(o["default"],a["b"],a["c"],!1,null,"43b4ad53",null,!1,a["a"],void 0);t["default"]=c.exports},a73a:function(e,t,n){var a=n("c86c");t=a(!1),t.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* color start*/.tui-primary[data-v-43b4ad53]{background-color:#5677fc;color:#fff}.tui-danger[data-v-43b4ad53]{background-color:#ed3f14;color:#fff}.tui-red[data-v-43b4ad53]{background-color:#f74d54;color:#fff}.tui-warning[data-v-43b4ad53]{background-color:#ff7900;color:#fff}.tui-green[data-v-43b4ad53]{background-color:#19be6b;color:#fff}.tui-white[data-v-43b4ad53]{background-color:#fff;color:#333}.tui-white_red[data-v-43b4ad53]{background-color:#fff;color:#f74d54}.tui-white_primary[data-v-43b4ad53]{background-color:#fff;color:#5677fc}.tui-white_green[data-v-43b4ad53]{background-color:#fff;color:#19be6b}.tui-white_warning[data-v-43b4ad53]{background-color:#fff;color:#ff7900}.tui-black[data-v-43b4ad53]{background-color:#000;color:#fff}.tui-gray[data-v-43b4ad53]{background-color:#ededed;color:#999}\n\n/* color end*/\n\n/* badge start*/.tui-badge-dot[data-v-43b4ad53]{height:8px;width:8px;border-radius:50%}.tui-badge[data-v-43b4ad53]{font-size:%?24?%;line-height:%?24?%;height:%?36?%;min-width:%?36?%;padding:0 %?10?%;box-sizing:border-box;border-radius:%?100?%;display:flex;align-items:center;justify-content:center;z-index:10}.tui-badge-scale[data-v-43b4ad53]{-webkit-transform-origin:center center;transform-origin:center center}\n\n/* badge end*/",""]),e.exports=t},afaf:function(e,t,n){"use strict";function a(e,t){var n,a={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var o in a)n=new RegExp("("+o+")").exec(e),n&&(e=e.replace(n[1],1==n[1].length?a[o]:a[o].padStart(n[1].length,"0")));return e}n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.IsURL=function(e){var t=new RegExp("^((https|http|ftp|rtsp|mms)?://)?(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((/?)|(/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+/?)$");return t.test(e)},t.dateFormat=a,t.formatData=function(e){var t=new URLSearchParams;for(var n in e)t.append(n,e[n]);return t},t.timeAgo=function(e){var t="",n=864e5,a=(new Date).getTime(),o=a-e;if(o<0)return t;var r=o/6e4,i=o/36e5,c=o/n,s=o/6048e5,u=o/2592e6,d=o/31536e6;r=parseInt(r),i=parseInt(i),c=parseInt(c),s=parseInt(s),u=parseInt(u),d=parseInt(d),u>12?t=" "+parseInt(d)+"年前":u>=1&&u<12?t=" "+parseInt(u)+"月前":s>=1&&s<=4?t=" "+parseInt(s)+"周前":c>=1&&c<=6?t=" "+parseInt(c)+"天前":i>=1&&i<=23?t=" "+parseInt(i)+"小时前":r>=1&&r<=59?t=" "+parseInt(r)+"分钟前":o>=0&&o<=6e4&&(t="刚刚");return t},t.timestampToDateTime=function(e){var t=new Date(e);return a("YYYY-mm-dd HH:MM",t)},n("bf0f"),n("18f7"),n("de6c"),n("2425"),n("c9b5"),n("ab80"),n("5c47"),n("23f4"),n("7d2f"),n("9c4e"),n("a1c1"),n("795c"),n("0506"),n("e966")},bf47:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.addChatRecord=function(e){return a.request.post(o.appConfig.WEB_API+"/app/im/chat/sendMsg",e)},t.deleteRecord=function(e){return a.request.get(o.appConfig.WEB_API+"/app/chat/deleteRecord",e)},t.getChatRecord=function(e,t,n){return a.request.get(o.appConfig.WEB_API+"/app/im/chat/getAllChatRecord/".concat(e,"/").concat(t),n)},t.getChatUserList=function(e){return a.request.get(o.appConfig.WEB_API+"/app/im/chat/getChatUserList",e)},t.getZimToken=function(e){return a.request.get(o.appConfig.WEB_API+"/chat/getZimToken",e)},t.updateRecordCount=function(e){return a.request.get(o.appConfig.WEB_API+"/app/chat/updateRecordCount",e)},n("c223");var a=n("fea7"),o=n("10ac")},db04:function(e,t,n){"use strict";var a=n("bb80"),o=n("c435"),r=n("9e70"),i=n("f298"),c=n("862c"),s=a(i),u=a("".slice),d=Math.ceil,l=function(e){return function(t,n,a){var i,l,f=r(c(t)),p=o(n),b=f.length,h=void 0===a?" ":r(a);return p<=b||""===h?f:(i=p-b,l=s(h,d(i/h.length)),l.length>i&&(l=u(l,0,i)),e?f+l:l+f)}};e.exports={start:l(!1),end:l(!0)}},eca4:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("64aa"),n("c223");var a={name:"tuiBadge",emits:["click"],props:{type:{type:String,default:"primary"},dot:{type:Boolean,default:!1},margin:{type:String,default:"0"},absolute:{type:Boolean,default:!1},top:{type:String,default:"-8rpx"},right:{type:String,default:"0"},scaleRatio:{type:Number,default:1},translateX:{type:String,default:"0"}},computed:{getStyle:function(){return"scale(".concat(this.scaleRatio,") translateX(").concat(this.translateX,")")}},methods:{handleClick:function(){this.$emit("click",{})}}};t.default=a},f298:function(e,t,n){"use strict";var a=n("497b"),o=n("9e70"),r=n("862c"),i=RangeError;e.exports=function(e){var t=o(r(this)),n="",c=a(e);if(c<0||c===1/0)throw new i("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(t+=t))1&c&&(n+=t);return n}},fea7:function(e,t,n){"use strict";n("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0,n("bf0f"),n("2797"),n("aa9c"),n("5c47"),n("a1c1"),n("c9b5"),n("ab80");var a=n("10ac"),o=n("efb0"),r=!1,i=[],c=function(e){i.forEach((function(t){return t(e)})),i=[]},s=function(e){i.push(e)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";return new Promise((function(i,u){var d=uni.getStorageSync("expiration");if(d){var l=d.toString().replace(/-/g,"/"),f=new Date(l).valueOf(),p=(new Date).valueOf(),b=(f-p)/1e3/60/60;if(b<1&&!r){r=!0;var h=uni.getStorageSync("userInfo");uni.request({method:"post",url:a.appConfig.WEB_API+"/app/auth/refreshToken",data:h,header:{"Content-Type":"application/json"},success:function(e){var t=e.data.data.JwtToken;uni.setStorageSync("expiration",e.data.data.expiration),o.tokenUtil.set(t),r=!1,c(t)},fail:function(e){r=!1,u(e)}}),s((function(e){g(e)}))}else r?s((function(e){g(e)})):g(o.tokenUtil.get())}else g(o.tokenUtil.get());function g(r){uni.request({method:n,url:e,data:t,header:function(){var e=o.tokenUtil.getUserId(),t={"Content-Type":"application/json"};return r&&(t[a.appConfig.tokenKey]=r,t[a.appConfig.userKey]=e),t}(),success:function(e){uni.hideLoading(),401==e.data.code?(uni.showToast({icon:"none",title:"用户未认证或登录过期,请重新登录"}),uni.removeStorageSync("userInfo"),o.tokenUtil.clear(),setTimeout((function(){uni.reLaunch({url:"/pages/login/login"})}),1e3)):i(e.data)},fail:function(e){uni.hideLoading(),u(e)}})}}))},d={get:function(e,t){return u(e,t,"GET")},post:function(e,t){return u(e,t,"POST")}};t.request=d}}]);